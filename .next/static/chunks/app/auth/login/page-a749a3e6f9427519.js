(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{4839:function(e,s,r){Promise.resolve().then(r.bind(r,6873))},6873:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return N}});var a=r(7437),t=r(2265),l=r(9376),i=r(7648),n=r(9501),c=r(845),d=r(1115),o=r(8997),m=r(7769),h=r(2208),u=r(2869),x=r(5186),p=r(6815),j=r(6070),g=r(2339),y=r(1032),f=r(386),v=r(6357),w=r(5098);let b=d.z.object({email:d.z.string().email("Invalid email address"),password:d.z.string().min(1,"Password is required")});function N(){let[e,s]=(0,t.useState)(!1),[r,d]=(0,t.useState)("user"),N=(0,l.useRouter)(),S=(0,f.I0)(),[k,{data:I,isLoading:z}]=(0,y.YA)(),[_,{isLoading:E}]=(0,y.fP)(),P=(0,n.cI)({resolver:(0,c.F)(b)}),F=(0,n.cI)({resolver:(0,c.F)(b)}),C=async e=>{try{let s=await k(e).unwrap();S((0,v.Dj)({user:s.user,token:s.token})),S((0,w.fz)({type:"success",title:"Welcome back!",message:"You have successfully logged in"})),N.push("admin"===s.user.role?"/dashboard/admin":"/dashboard/user")}catch(e){var s;S((0,w.fz)({type:"error",title:"Login Failed",message:(null===(s=e.data)||void 0===s?void 0:s.error)||"Invalid credentials"}))}},Z=async e=>{try{let s=await _(e).unwrap();S((0,v.Dj)({user:s.charity,token:s.token})),S((0,w.fz)({type:"success",title:"Welcome back!",message:"You have successfully logged in"})),N.push("/dashboard/charity")}catch(e){var s;S((0,w.fz)({type:"error",title:"Login Failed",message:(null===(s=e.data)||void 0===s?void 0:s.error)||"Invalid credentials"}))}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)(i.default,{href:"/",className:"flex items-center justify-center space-x-2 mb-4",children:[(0,a.jsx)(o.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"CharityPlatform"})]}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Sign in to your account"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Welcome back! Please sign in to continue"})]}),(0,a.jsxs)(j.Zb,{children:[(0,a.jsx)(j.Ol,{children:(0,a.jsx)(g.mQ,{value:r,onValueChange:d,children:(0,a.jsxs)(g.dr,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(g.SP,{value:"user",children:"Individual"}),(0,a.jsx)(g.SP,{value:"charity",children:"Organization"})]})})}),(0,a.jsxs)(j.aY,{children:[(0,a.jsxs)(g.mQ,{value:r,onValueChange:d,children:[(0,a.jsx)(g.nU,{value:"user",children:(0,a.jsxs)("form",{onSubmit:P.handleSubmit(C),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"user-email",children:"Email Address"}),(0,a.jsx)(x.I,{id:"user-email",type:"email",...P.register("email"),placeholder:"Enter your email"}),P.formState.errors.email&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:P.formState.errors.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"user-password",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.I,{id:"user-password",type:e?"text":"password",...P.register("password"),placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!e),children:e?(0,a.jsx)(m.Z,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"})})]}),P.formState.errors.password&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:P.formState.errors.password.message})]}),(0,a.jsx)(u.z,{type:"submit",className:"w-full",disabled:z,children:z?"Signing in...":"Sign In"})]})}),(0,a.jsx)(g.nU,{value:"charity",children:(0,a.jsxs)("form",{onSubmit:F.handleSubmit(Z),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"charity-email",children:"Organization Email"}),(0,a.jsx)(x.I,{id:"charity-email",type:"email",...F.register("email"),placeholder:"Enter organization email"}),F.formState.errors.email&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:F.formState.errors.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p._,{htmlFor:"charity-password",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.I,{id:"charity-password",type:e?"text":"password",...F.register("password"),placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!e),children:e?(0,a.jsx)(m.Z,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"})})]}),F.formState.errors.password&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:F.formState.errors.password.message})]}),(0,a.jsx)(u.z,{type:"submit",className:"w-full",disabled:E,children:E?"Signing in...":"Sign In"})]})})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)(i.default,{href:"/auth/signup",className:"text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})]})})}}},function(e){e.O(0,[203,557,648,513,80,544,223,971,117,744],function(){return e(e.s=4839)}),_N_E=e.O()}]);