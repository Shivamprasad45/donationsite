(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{1491:function(e,r,s){Promise.resolve().then(s.bind(s,3711))},3711:function(e,r,s){"use strict";s.r(r);var t=s(7437),a=s(2265),i=s(9376),o=s(7648),n=s(9501),c=s(845),d=s(1115),l=s(8997),m=s(7769),h=s(2208),x=s(2869),u=s(5186),g=s(6815),p=s(6070),j=s(2339),f=s(1032),y=s(386),b=s(6357),N=s(5098);let v=d.z.object({name:d.z.string().min(2,"Name must be at least 2 characters"),email:d.z.string().email("Invalid email address"),password:d.z.string().min(6,"Password must be at least 6 characters"),confirmPassword:d.z.string(),phone:d.z.string().optional()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),w=d.z.object({name:d.z.string().min(2,"Organization name must be at least 2 characters"),email:d.z.string().email("Invalid email address"),password:d.z.string().min(6,"Password must be at least 6 characters"),confirmPassword:d.z.string(),registrationNumber:d.z.string().min(1,"Registration number is required"),phone:d.z.string().min(1,"Phone number is required"),website:d.z.string().url("Invalid website URL").optional().or(d.z.literal("")),description:d.z.string().min(10,"Description must be at least 10 characters"),mission:d.z.string().min(10,"Mission must be at least 10 characters"),vision:d.z.string().min(10,"Vision must be at least 10 characters"),category:d.z.string().min(1,"Category is required"),address:d.z.string().min(1,"Address is required"),city:d.z.string().min(1,"City is required"),state:d.z.string().min(1,"State is required"),country:d.z.string().min(1,"Country is required"),accountName:d.z.string().min(1,"Account name is required"),accountNumber:d.z.string().min(1,"Account number is required"),bankName:d.z.string().min(1,"Bank name is required"),ifscCode:d.z.string().min(1,"IFSC code is required"),branch:d.z.string().min(1,"Branch is required")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});r.default=()=>{let[e,r]=(0,a.useState)(!1),[s,d]=(0,a.useState)("user"),S=(0,i.useRouter)(),z=(0,y.I0)(),[C,{isLoading:I}]=(0,f.l4)(),[P,{isLoading:_}]=(0,f.oW)(),F=(0,n.cI)({resolver:(0,c.F)(v)}),k=(0,n.cI)({resolver:(0,c.F)(w)}),A=async e=>{try{let r=await C({name:e.name,email:e.email,password:e.password,phone:e.phone}).unwrap();z((0,b.Dj)({user:r.user,token:r.token})),z((0,N.fz)({type:"success",title:"Account Created!",message:"Welcome to CharityPlatform"})),S.push("/dashboard/user")}catch(e){var r;z((0,N.fz)({type:"error",title:"Registration Failed",message:(null===(r=e.data)||void 0===r?void 0:r.error)||"Something went wrong"}))}},E=async e=>{try{let r=await P({name:e.name,email:e.email,password:e.password,registrationNumber:e.registrationNumber,phone:e.phone,website:e.website||void 0,description:e.description,mission:e.mission,vision:e.vision,category:e.category,location:{address:e.address,city:e.city,state:e.state,country:e.country},bankDetails:{accountName:e.accountName,accountNumber:e.accountNumber,bankName:e.bankName,ifscCode:e.ifscCode,branch:e.branch}}).unwrap();z((0,b.Dj)({user:r.charity,token:r.token})),z((0,N.fz)({type:"success",title:"Charity Registered!",message:"Your application is under review"})),S.push("/dashboard/charity")}catch(e){var r;z((0,N.fz)({type:"error",title:"Registration Failed",message:(null===(r=e.data)||void 0===r?void 0:r.error)||"Something went wrong"}))}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)(o.default,{href:"/",className:"flex items-center justify-center space-x-2 mb-4",children:[(0,t.jsx)(l.Z,{className:"h-8 w-8 text-blue-600"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"CharityPlatform"})]}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Create your account"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Join our community and start making a difference"})]}),(0,t.jsxs)(p.Zb,{children:[(0,t.jsx)(p.Ol,{children:(0,t.jsx)(j.mQ,{value:s,onValueChange:d,children:(0,t.jsxs)(j.dr,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(j.SP,{value:"user",children:"Individual Donor"}),(0,t.jsx)(j.SP,{value:"charity",children:"Charity Organization"})]})})}),(0,t.jsxs)(p.aY,{children:[(0,t.jsxs)(j.mQ,{value:s,onValueChange:d,children:[(0,t.jsx)(j.nU,{value:"user",children:(0,t.jsxs)("form",{onSubmit:F.handleSubmit(A),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"user-name",children:"Full Name"}),(0,t.jsx)(u.I,{id:"user-name",...F.register("name"),placeholder:"Enter your full name"}),F.formState.errors.name&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:F.formState.errors.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"user-email",children:"Email Address"}),(0,t.jsx)(u.I,{id:"user-email",type:"email",...F.register("email"),placeholder:"Enter your email"}),F.formState.errors.email&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:F.formState.errors.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"user-phone",children:"Phone Number (Optional)"}),(0,t.jsx)(u.I,{id:"user-phone",...F.register("phone"),placeholder:"Enter your phone number"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"user-password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.I,{id:"user-password",type:e?"text":"password",...F.register("password"),placeholder:"Create a password"}),(0,t.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!e),children:e?(0,t.jsx)(m.Z,{className:"h-4 w-4 text-gray-400"}):(0,t.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"})})]}),F.formState.errors.password&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:F.formState.errors.password.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"user-confirm-password",children:"Confirm Password"}),(0,t.jsx)(u.I,{id:"user-confirm-password",type:"password",...F.register("confirmPassword"),placeholder:"Confirm your password"}),F.formState.errors.confirmPassword&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:F.formState.errors.confirmPassword.message})]}),(0,t.jsx)(x.z,{type:"submit",className:"w-full",disabled:I,children:I?"Creating Account...":"Create Account"})]})}),(0,t.jsx)(j.nU,{value:"charity",children:(0,t.jsxs)("form",{onSubmit:k.handleSubmit(E),className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-name",children:"Organization Name"}),(0,t.jsx)(u.I,{id:"charity-name",...k.register("name"),placeholder:"Enter organization name"}),k.formState.errors.name&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-email",children:"Email Address"}),(0,t.jsx)(u.I,{id:"charity-email",type:"email",...k.register("email"),placeholder:"Enter organization email"}),k.formState.errors.email&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.email.message})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-registration",children:"Registration Number"}),(0,t.jsx)(u.I,{id:"charity-registration",...k.register("registrationNumber"),placeholder:"Enter registration number"}),k.formState.errors.registrationNumber&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.registrationNumber.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-phone",children:"Phone Number"}),(0,t.jsx)(u.I,{id:"charity-phone",...k.register("phone"),placeholder:"Enter phone number"}),k.formState.errors.phone&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.phone.message})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-website",children:"Website (Optional)"}),(0,t.jsx)(u.I,{id:"charity-website",...k.register("website"),placeholder:"https://your-website.com"}),k.formState.errors.website&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.website.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-category",children:"Category"}),(0,t.jsxs)("select",{id:"charity-category",...k.register("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select a category"}),(0,t.jsx)("option",{value:"Education",children:"Education"}),(0,t.jsx)("option",{value:"Healthcare",children:"Healthcare"}),(0,t.jsx)("option",{value:"Environment",children:"Environment"}),(0,t.jsx)("option",{value:"Poverty",children:"Poverty"}),(0,t.jsx)("option",{value:"Animal Welfare",children:"Animal Welfare"}),(0,t.jsx)("option",{value:"Disaster Relief",children:"Disaster Relief"}),(0,t.jsx)("option",{value:"Human Rights",children:"Human Rights"}),(0,t.jsx)("option",{value:"Arts & Culture",children:"Arts & Culture"}),(0,t.jsx)("option",{value:"Sports",children:"Sports"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]}),k.formState.errors.category&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.category.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-description",children:"Description"}),(0,t.jsx)("textarea",{id:"charity-description",...k.register("description"),placeholder:"Describe your organization",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),k.formState.errors.description&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.description.message})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-mission",children:"Mission Statement"}),(0,t.jsx)("textarea",{id:"charity-mission",...k.register("mission"),placeholder:"Your organization's mission",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),k.formState.errors.mission&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.mission.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-vision",children:"Vision Statement"}),(0,t.jsx)("textarea",{id:"charity-vision",...k.register("vision"),placeholder:"Your organization's vision",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),k.formState.errors.vision&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.vision.message})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{children:"Address Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)(u.I,{...k.register("address"),placeholder:"Street address"}),k.formState.errors.address&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.address.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.I,{...k.register("city"),placeholder:"City"}),k.formState.errors.city&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.city.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.I,{...k.register("state"),placeholder:"State"}),k.formState.errors.state&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.state.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.I,{...k.register("country"),placeholder:"Country"}),k.formState.errors.country&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.country.message})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{children:"Bank Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.I,{...k.register("accountName"),placeholder:"Account name"}),k.formState.errors.accountName&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.accountName.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.I,{...k.register("accountNumber"),placeholder:"Account number"}),k.formState.errors.accountNumber&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.accountNumber.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.I,{...k.register("bankName"),placeholder:"Bank name"}),k.formState.errors.bankName&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.bankName.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.I,{...k.register("ifscCode"),placeholder:"IFSC code"}),k.formState.errors.ifscCode&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.ifscCode.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.I,{...k.register("branch"),placeholder:"Branch"}),k.formState.errors.branch&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.branch.message})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.I,{id:"charity-password",type:e?"text":"password",...k.register("password"),placeholder:"Create a password"}),(0,t.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!e),children:e?(0,t.jsx)(m.Z,{className:"h-4 w-4 text-gray-400"}):(0,t.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"})})]}),k.formState.errors.password&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.password.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"charity-confirm-password",children:"Confirm Password"}),(0,t.jsx)(u.I,{id:"charity-confirm-password",type:"password",...k.register("confirmPassword"),placeholder:"Confirm your password"}),k.formState.errors.confirmPassword&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.formState.errors.confirmPassword.message})]})]}),(0,t.jsx)(x.z,{type:"submit",className:"w-full",disabled:_,children:_?"Registering Organization...":"Register Organization"})]})})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,t.jsx)(o.default,{href:"/auth/login",className:"text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})]})})}}},function(e){e.O(0,[203,557,648,513,80,544,223,971,117,744],function(){return e(e.s=1491)}),_N_E=e.O()}]);