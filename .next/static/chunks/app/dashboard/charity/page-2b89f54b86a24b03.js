(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{9612:function(e,t,r){Promise.resolve().then(r.bind(r,6094))},6094:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(7437),a=r(7648),i=r(2208),n=r(5868),l=r(44),d=r(5252),c=r(5805);let o=(0,r(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var u=r(9397),h=r(6070),x=r(2869),m=r(5974),v=r(386),p=r(778),f=r(4455);function g(){var e,t,r,g,y;let{user:j}=(0,v.v9)(e=>e.auth),b=null==j?void 0:j.charityId,{data:N,isLoading:w}=(0,p.xG)(b,{skip:!b}),{data:k,isLoading:Z}=(0,f.ct)({limit:"5"}),{data:M,isLoading:z}=(0,p.ic)({charityId:b,limit:"3"});if(w)return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})});let A=null==N?void 0:N.charity;return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[null==A?void 0:A.name," Dashboard"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(m.C,{variant:(null==A?void 0:A.isApproved)?"default":"secondary",children:(null==A?void 0:A.isApproved)?"Approved":"Pending Approval"}),(0,s.jsx)(m.C,{variant:(null==A?void 0:A.isVerified)?"default":"secondary",children:(null==A?void 0:A.isVerified)?"Verified":"Unverified"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(a.default,{href:"/charities/".concat(b),children:(0,s.jsxs)(x.z,{variant:"outline",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"View Public Page"]})}),(0,s.jsx)(a.default,{href:"/dashboard/charity/profile",children:(0,s.jsxs)(x.z,{variant:"outline",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})]})]})}),!(null==A?void 0:A.isApproved)&&(0,s.jsx)(h.Zb,{className:"mb-8 border-yellow-200 bg-yellow-50",children:(0,s.jsx)(h.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(l.Z,{className:"h-5 w-5 text-yellow-600"})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Pending Approval"}),(0,s.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Your charity registration is under review. You'll be notified once approved."})]})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(h.Zb,{children:[(0,s.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(h.ll,{className:"text-sm font-medium",children:"Total Raised"}),(0,s.jsx)(d.Z,{className:"h-4 w-4 text-green-500"})]}),(0,s.jsxs)(h.aY,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",(null==A?void 0:null===(e=A.totalReceived)||void 0===e?void 0:e.toLocaleString())||0]}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Lifetime donations"})]})]}),(0,s.jsxs)(h.Zb,{children:[(0,s.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(h.ll,{className:"text-sm font-medium",children:"Donors"}),(0,s.jsx)(c.Z,{className:"h-4 w-4 text-blue-500"})]}),(0,s.jsxs)(h.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:(null==A?void 0:A.donorCount)||0}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Total supporters"})]})]}),(0,s.jsxs)(h.Zb,{children:[(0,s.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(h.ll,{className:"text-sm font-medium",children:"Active Goals"}),(0,s.jsx)(l.Z,{className:"h-4 w-4 text-purple-500"})]}),(0,s.jsxs)(h.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:(null==A?void 0:null===(t=A.goals)||void 0===t?void 0:t.filter(e=>e.isActive).length)||0}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Current campaigns"})]})]}),(0,s.jsxs)(h.Zb,{children:[(0,s.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(h.ll,{className:"text-sm font-medium",children:"Impact Reports"}),(0,s.jsx)(o,{className:"h-4 w-4 text-orange-500"})]}),(0,s.jsxs)(h.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:(null==M?void 0:null===(r=M.reports)||void 0===r?void 0:r.length)||0}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Published reports"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)(h.Zb,{children:[(0,s.jsx)(h.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(h.ll,{children:"Recent Donations"}),(0,s.jsx)(a.default,{href:"/dashboard/charity/donations",children:(0,s.jsx)(x.z,{variant:"outline",size:"sm",children:"View All"})})]})}),(0,s.jsx)(h.aY,{children:Z?(0,s.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]},t))}):(null==k?void 0:null===(g=k.donations)||void 0===g?void 0:g.length)>0?(0,s.jsx)("div",{className:"space-y-4",children:k.donations.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:e.isAnonymous?"Anonymous Donor":e.donor.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString()}),e.message&&(0,s.jsxs)("p",{className:"text-sm text-gray-700 mt-1 italic",children:['"',e.message,'"']})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"font-semibold text-green-600",children:["$",e.amount.toLocaleString()]}),(0,s.jsx)(m.C,{variant:"completed"===e.paymentStatus?"default":"secondary",className:"text-xs",children:e.paymentStatus})]})]},e.id))}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(d.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"No donations received yet"})]})})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(h.Zb,{children:[(0,s.jsx)(h.Ol,{children:(0,s.jsx)(h.ll,{children:"Quick Actions"})}),(0,s.jsxs)(h.aY,{className:"space-y-4",children:[(0,s.jsx)(a.default,{href:"/dashboard/charity/projects",children:(0,s.jsxs)(x.z,{className:"w-full",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Add Project/Goal"]})}),(0,s.jsx)(a.default,{href:"/dashboard/charity/impact-reports",children:(0,s.jsxs)(x.z,{variant:"outline",className:"w-full",children:[(0,s.jsx)(o,{className:"h-4 w-4 mr-2"}),"Create Impact Report"]})}),(0,s.jsx)(a.default,{href:"/dashboard/charity/profile",children:(0,s.jsx)(x.z,{variant:"outline",className:"w-full",children:"Edit Organization Profile"})})]})]}),(0,s.jsxs)(h.Zb,{children:[(0,s.jsx)(h.Ol,{children:(0,s.jsx)(h.ll,{children:"Active Goals"})}),(0,s.jsx)(h.aY,{children:(null==A?void 0:null===(y=A.goals)||void 0===y?void 0:y.filter(e=>e.isActive).length)>0?(0,s.jsx)("div",{className:"space-y-4",children:A.goals.filter(e=>e.isActive).slice(0,2).map((e,t)=>(0,s.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-sm mb-2",children:e.title}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,s.jsx)("span",{children:"Progress"}),(0,s.jsxs)("span",{children:["$",e.currentAmount.toLocaleString()," / $",e.targetAmount.toLocaleString()]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(Math.min(e.currentAmount/e.targetAmount*100,100),"%")}})})]})]},t))}):(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"No active goals"}),(0,s.jsx)(a.default,{href:"/dashboard/charity/projects",children:(0,s.jsx)(x.z,{size:"sm",className:"mt-2",children:"Create Goal"})})]})})]})]})]})]})})}},5974:function(e,t,r){"use strict";r.d(t,{C:function(){return d}});var s=r(7437);r(2265);var a=r(7053),i=r(535),n=r(4508);let l=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,asChild:i=!1,...d}=e,c=i?a.g7:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,n.cn)(l({variant:r}),t),...d})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(7437);r(2265);var a=r(7053),i=r(535),n=r(4508);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:i,asChild:d=!1,...c}=e,o=d?a.g7:"button";return(0,s.jsx)(o,{"data-slot":"button",className:(0,n.cn)(l({variant:r,size:i,className:t})),...c})}},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return n},Zb:function(){return i},aY:function(){return d},eW:function(){return c},ll:function(){return l}});var s=r(7437);r(2265);var a=r(4508);function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(1994),a=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},44:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},5252:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2208:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5868:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},5805:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},778:function(e,t,r){"use strict";r.d(t,{G0:function(){return n},hp:function(){return l},ic:function(){return o},jl:function(){return h},xG:function(){return d}});var s=r(9523),a=r(3557);let i=(0,s.ni)({baseUrl:"/api/charities",prepareHeaders:(e,t)=>{let{getState:r}=t,s=r().auth.token;return s&&e.set("authorization","Bearer ".concat(s)),e}}),n=(0,a.LC)({reducerPath:"charitiesApi",baseQuery:i,tagTypes:["Charity","ImpactReport"],endpoints:e=>({getCharities:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"?".concat(t)},providesTags:["Charity"]}),getCharityById:e.query({query:e=>"/".concat(e),providesTags:(e,t,r)=>[{type:"Charity",id:r}]}),updateCharity:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/".concat(t),method:"PUT",body:r}},invalidatesTags:(e,t,r)=>{let{id:s}=r;return[{type:"Charity",id:s}]}}),getImpactReports:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"/impact-reports?".concat(t)},providesTags:["ImpactReport"]}),createImpactReport:e.mutation({query:e=>({url:"/impact-reports",method:"POST",body:e}),invalidatesTags:["ImpactReport"]}),publishImpactReport:e.mutation({query:e=>({url:"/impact-reports/".concat(e,"/publish"),method:"POST"}),invalidatesTags:["ImpactReport"]})})}),{useGetCharitiesQuery:l,useGetCharityByIdQuery:d,useUpdateCharityMutation:c,useGetImpactReportsQuery:o,useCreateImpactReportMutation:u,usePublishImpactReportMutation:h}=n},4455:function(e,t,r){"use strict";r.d(t,{$I:function(){return l},BI:function(){return n},JM:function(){return d},ct:function(){return c}});var s=r(9523),a=r(3557);let i=(0,s.ni)({baseUrl:"/api/donations",prepareHeaders:(e,t)=>{let{getState:r}=t,s=r().auth.token;return s&&e.set("authorization","Bearer ".concat(s)),e}}),n=(0,a.LC)({reducerPath:"donationsApi",baseQuery:i,tagTypes:["Donation"],endpoints:e=>({createDonation:e.mutation({query:e=>({url:"",method:"POST",body:e}),invalidatesTags:["Donation"]}),confirmDonation:e.mutation({query:e=>({url:"/confirm",method:"POST",body:{paymentIntentId:e}}),invalidatesTags:["Donation"]}),getDonations:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"?".concat(t)},providesTags:["Donation"]}),getReceipt:e.query({query:e=>"/".concat(e,"/receipt")})})}),{useCreateDonationMutation:l,useConfirmDonationMutation:d,useGetDonationsQuery:c,useGetReceiptQuery:o}=n}},function(e){e.O(0,[203,557,648,971,117,744],function(){return e(e.s=9612)}),_N_E=e.O()}]);