(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{5578:function(e,s,t){Promise.resolve().then(t.bind(t,3543))},3543:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var r=t(7437),n=t(2265),a=t(7648),i=t(9501),d=t(845),l=t(1115),o=t(2660);let c=(0,t(9205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var u=t(2369),x=t(6070),m=t(2869),h=t(5186),f=t(6815),p=t(247),v=t(386),g=t(5098);let b=l.z.object({name:l.z.string().min(2,"Name must be at least 2 characters"),phone:l.z.string().optional(),address:l.z.object({street:l.z.string().optional(),city:l.z.string().optional(),state:l.z.string().optional(),zipCode:l.z.string().optional(),country:l.z.string().optional()}).optional()});function j(){var e,s,t,l,j,y,N;let w=(0,v.I0)(),{data:z,isLoading:k}=(0,p.Mx)(""),[S,{isLoading:_}]=(0,p.TG)(),{register:I,handleSubmit:P,formState:{errors:Z},reset:M}=(0,i.cI)({resolver:(0,d.F)(b)});(0,n.useEffect)(()=>{(null==z?void 0:z.user)&&M({name:z.user.name,phone:z.user.phone||"",address:z.user.address||{street:"",city:"",state:"",zipCode:"",country:""}})},[z,M]);let C=async e=>{try{await S(e).unwrap(),w((0,g.fz)({type:"success",title:"Profile Updated",message:"Your profile has been successfully updated"}))}catch(e){var s;w((0,g.fz)({type:"error",title:"Update Failed",message:(null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to update profile"}))}};return k?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)(a.default,{href:"/dashboard/user",children:(0,r.jsxs)(m.z,{variant:"ghost",className:"mb-4",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Profile Settings"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage your personal information and preferences"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)(x.Zb,{children:[(0,r.jsx)(x.Ol,{children:(0,r.jsx)(x.ll,{children:"Personal Information"})}),(0,r.jsx)(x.aY,{children:(0,r.jsxs)("form",{onSubmit:P(C),className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{htmlFor:"name",children:"Full Name"}),(0,r.jsx)(h.I,{id:"name",...I("name"),placeholder:"Enter your full name"}),Z.name&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:Z.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{htmlFor:"phone",children:"Phone Number"}),(0,r.jsx)(h.I,{id:"phone",...I("phone"),placeholder:"Enter your phone number"}),Z.phone&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:Z.phone.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{children:"Address Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsx)(h.I,{...I("address.street"),placeholder:"Street address"})}),(0,r.jsx)("div",{children:(0,r.jsx)(h.I,{...I("address.city"),placeholder:"City"})}),(0,r.jsx)("div",{children:(0,r.jsx)(h.I,{...I("address.state"),placeholder:"State"})}),(0,r.jsx)("div",{children:(0,r.jsx)(h.I,{...I("address.zipCode"),placeholder:"ZIP Code"})}),(0,r.jsx)("div",{children:(0,r.jsx)(h.I,{...I("address.country"),placeholder:"Country"})})]})]}),(0,r.jsxs)(m.z,{type:"submit",disabled:_,children:[(0,r.jsx)(c,{className:"h-4 w-4 mr-2"}),_?"Saving...":"Save Changes"]})]})})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(x.Zb,{children:[(0,r.jsx)(x.Ol,{children:(0,r.jsx)(x.ll,{children:"Account Summary"})}),(0,r.jsxs)(x.aY,{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"h-8 w-8 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:null==z?void 0:null===(e=z.user)||void 0===e?void 0:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:null==z?void 0:null===(s=z.user)||void 0===s?void 0:s.email})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Total Donated"}),(0,r.jsxs)("span",{className:"font-semibold text-green-600",children:["$",(null==z?void 0:null===(l=z.user)||void 0===l?void 0:null===(t=l.totalDonated)||void 0===t?void 0:t.toLocaleString())||0]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Donations Made"}),(0,r.jsx)("span",{className:"font-semibold",children:(null==z?void 0:null===(y=z.user)||void 0===y?void 0:null===(j=y.donationHistory)||void 0===j?void 0:j.length)||0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Member Since"}),(0,r.jsx)("span",{className:"font-semibold",children:(null==z?void 0:null===(N=z.user)||void 0===N?void 0:N.createdAt)?new Date(z.user.createdAt).toLocaleDateString():"N/A"})]})]})]})]}),(0,r.jsxs)(x.Zb,{children:[(0,r.jsx)(x.Ol,{children:(0,r.jsx)(x.ll,{children:"Account Settings"})}),(0,r.jsx)(x.aY,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm",children:"Email Notifications"}),(0,r.jsx)(m.z,{variant:"outline",size:"sm",children:"Manage"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm",children:"Privacy Settings"}),(0,r.jsx)(m.z,{variant:"outline",size:"sm",children:"Configure"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm",children:"Download Data"}),(0,r.jsx)(m.z,{variant:"outline",size:"sm",children:"Export"})]})]})})]})]})]})]})})}},2869:function(e,s,t){"use strict";t.d(s,{z:function(){return l}});var r=t(7437);t(2265);var n=t(7053),a=t(535),i=t(4508);let d=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:s,variant:t,size:a,asChild:l=!1,...o}=e,c=l?n.g7:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(d({variant:t,size:a,className:s})),...o})}},6070:function(e,s,t){"use strict";t.d(s,{Ol:function(){return i},Zb:function(){return a},aY:function(){return l},eW:function(){return o},ll:function(){return d}});var r=t(7437);t(2265);var n=t(4508);function a(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function i(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function d(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",s),...t})}function l(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",s),...t})}function o(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",s),...t})}},5186:function(e,s,t){"use strict";t.d(s,{I:function(){return i}});var r=t(7437),n=t(2265),a=t(4508);let i=n.forwardRef((e,s)=>{let{className:t,type:n,...i}=e;return(0,r.jsx)("input",{type:n,ref:s,className:(0,a.cn)("flex h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none","placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground","file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","dark:bg-input/30","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 aria-invalid:border-destructive dark:aria-invalid:ring-destructive/40","disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","md:text-sm",t),...i})});i.displayName="Input"},6815:function(e,s,t){"use strict";t.d(s,{_:function(){return i}});var r=t(7437);t(2265);var n=t(6394),a=t(4508);function i(e){let{className:s,...t}=e;return(0,r.jsx)(n.f,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},4508:function(e,s,t){"use strict";t.d(s,{cn:function(){return a}});var r=t(1994),n=t(3335);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.m6)((0,r.W)(s))}},2660:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},247:function(e,s,t){"use strict";t.d(s,{Mx:function(){return d},TG:function(){return l},g8:function(){return i}});var r=t(9523),n=t(3557);let a=(0,r.ni)({baseUrl:"/api/users",prepareHeaders:(e,s)=>{let{getState:t}=s,r=t().auth.token;return r&&e.set("authorization","Bearer ".concat(r)),e}}),i=(0,n.LC)({reducerPath:"usersApi",baseQuery:a,tagTypes:["User"],endpoints:e=>({getProfile:e.query({query:()=>"/profile",providesTags:["User"]}),updateProfile:e.mutation({query:e=>({url:"/profile",method:"PUT",body:e}),invalidatesTags:["User"]})})}),{useGetProfileQuery:d,useUpdateProfileMutation:l}=i},5098:function(e,s,t){"use strict";t.d(s,{RS:function(){return a},fz:function(){return n}});let r=(0,t(9129).oM)({name:"ui",initialState:{toasts:[],sidebarOpen:!1,loading:!1},reducers:{addToast:(e,s)=>{let t={...s.payload,id:Date.now().toString()};e.toasts.push(t)},removeToast:(e,s)=>{e.toasts=e.toasts.filter(e=>e.id!==s.payload)},toggleSidebar:e=>{e.sidebarOpen=!e.sidebarOpen},setLoading:(e,s)=>{e.loading=s.payload}}}),{addToast:n,removeToast:a,toggleSidebar:i,setLoading:d}=r.actions;s.ZP=r.reducer},6840:function(e,s,t){"use strict";t.d(s,{WV:function(){return d},jH:function(){return l}});var r=t(2265),n=t(4887),a=t(7053),i=t(7437),d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>{let t=r.forwardRef((e,t)=>{let{asChild:r,...n}=e,d=r?a.g7:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(d,{...n,ref:t})});return t.displayName=`Primitive.${s}`,{...e,[s]:t}},{});function l(e,s){e&&n.flushSync(()=>e.dispatchEvent(s))}}},function(e){e.O(0,[203,557,648,80,544,971,117,744],function(){return e(e.s=5578)}),_N_E=e.O()}]);