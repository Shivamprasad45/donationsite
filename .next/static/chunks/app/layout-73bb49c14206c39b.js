(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6384:function(e,t,r){Promise.resolve().then(r.bind(r,2353)),Promise.resolve().then(r.t.bind(r,2972,23)),Promise.resolve().then(r.t.bind(r,911,23)),Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,4994))},2353:function(e,t,r){"use strict";r.d(t,{Navbar:function(){return j}});var a=r(7437),n=r(2265),i=r(7648),s=r(386),o=r(8997),d=r(2369),c=r(7692),u=r(2489),l=r(8293),h=r(6357),m=r(2869),p=r(85),f=r(4508);function x(e){let{...t}=e;return(0,a.jsx)(p.fC,{"data-slot":"dropdown-menu",...t})}function g(e){let{...t}=e;return(0,a.jsx)(p.xz,{"data-slot":"dropdown-menu-trigger",...t})}function v(e){let{className:t,sideOffset:r=4,...n}=e;return(0,a.jsx)(p.Uv,{children:(0,a.jsx)(p.VY,{"data-slot":"dropdown-menu-content",sideOffset:r,className:(0,f.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function y(e){let{className:t,inset:r,variant:n="default",...i}=e;return(0,a.jsx)(p.ck,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":n,className:(0,f.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function b(e){let{className:t,...r}=e;return(0,a.jsx)(p.Z0,{"data-slot":"dropdown-menu-separator",className:(0,f.cn)("bg-border -mx-1 my-1 h-px",t),...r})}function j(){let[e,t]=(0,n.useState)(!1),{user:r,isAuthenticated:p}=(0,s.v9)(e=>e.auth),f=(0,s.I0)(),j=()=>{f((0,h.kS)())},w=()=>{if(!r)return"/dashboard";switch(r.role){case"admin":return"/dashboard/admin";case"charity":return"/dashboard/charity";default:return"/dashboard/user"}};return(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)(i.default,{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"CharityPlatform"})]})}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,a.jsx)(i.default,{href:"/charities",className:"text-gray-700 hover:text-blue-600",children:"Browse Charities"}),(0,a.jsx)(i.default,{href:"/impact-reports",className:"text-gray-700 hover:text-blue-600",children:"Impact Reports"}),p?(0,a.jsxs)(x,{children:[(0,a.jsx)(g,{asChild:!0,children:(0,a.jsxs)(m.z,{variant:"ghost",className:"flex items-center space-x-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:null==r?void 0:r.name})]})}),(0,a.jsxs)(v,{align:"end",children:[(0,a.jsx)(y,{asChild:!0,children:(0,a.jsx)(i.default,{href:w(),children:"Dashboard"})}),(0,a.jsx)(y,{asChild:!0,children:(0,a.jsx)(i.default,{href:"/profile",children:"Profile"})}),(0,a.jsx)(b,{}),(0,a.jsxs)(y,{onClick:j,children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.default,{href:"/auth/login",children:(0,a.jsx)(m.z,{variant:"ghost",children:"Login"})}),(0,a.jsx)(i.default,{href:"/auth/signup",children:(0,a.jsx)(m.z,{children:"Sign Up"})})]})]}),(0,a.jsx)("div",{className:"md:hidden flex items-center",children:(0,a.jsx)("button",{onClick:()=>t(!e),className:"text-gray-700 hover:text-blue-600",children:e?(0,a.jsx)(u.Z,{className:"h-6 w-6"}):(0,a.jsx)(l.Z,{className:"h-6 w-6"})})})]}),e&&(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,a.jsx)(i.default,{href:"/charities",className:"block px-3 py-2 text-gray-700 hover:text-blue-600",onClick:()=>t(!1),children:"Browse Charities"}),(0,a.jsx)(i.default,{href:"/impact-reports",className:"block px-3 py-2 text-gray-700 hover:text-blue-600",onClick:()=>t(!1),children:"Impact Reports"}),p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{href:w(),className:"block px-3 py-2 text-gray-700 hover:text-blue-600",onClick:()=>t(!1),children:"Dashboard"}),(0,a.jsx)(i.default,{href:"/profile",className:"block px-3 py-2 text-gray-700 hover:text-blue-600",onClick:()=>t(!1),children:"Profile"}),(0,a.jsx)("button",{onClick:()=>{j(),t(!1)},className:"block w-full text-left px-3 py-2 text-gray-700 hover:text-blue-600",children:"Logout"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{href:"/auth/login",className:"block px-3 py-2 text-gray-700 hover:text-blue-600",onClick:()=>t(!1),children:"Login"}),(0,a.jsx)(i.default,{href:"/auth/signup",className:"block px-3 py-2 text-gray-700 hover:text-blue-600",onClick:()=>t(!1),children:"Sign Up"})]})]})})]})})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437);r(2265);var n=r(7053),i=r(535),s=r(4508);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{"data-slot":"button",className:(0,s.cn)(o({variant:r,size:i,className:t})),...c})}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var a=r(1994),n=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}},4994:function(e,t,r){"use strict";r.d(t,{default:function(){return k}});var a=r(7437),n=r(386),i=r(9129),s=r(9523),o=r(1032),d=r(778),c=r(4455),u=r(6492),l=r(247),h=r(6357),m=r(5098);let p=(0,i.xC)({reducer:{auth:h.ZP,ui:m.ZP,[o.iJ.reducerPath]:o.iJ.reducer,[d.G0.reducerPath]:d.G0.reducer,[c.BI.reducerPath]:c.BI.reducer,[u.Nq.reducerPath]:u.Nq.reducer,[l.g8.reducerPath]:l.g8.reducer},middleware:e=>e().concat(o.iJ.middleware,d.G0.middleware,c.BI.middleware,u.Nq.middleware,l.g8.middleware)});(0,s.sj)(p.dispatch);var f=r(2265),x=r(1671),g=r(9388),v=r(3245),y=r(6865),b=r(2489);function j(){let e=(0,n.v9)(e=>e.ui.toasts),t=(0,n.I0)();return(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(e=>(0,a.jsx)(w,{toast:e,onRemove:()=>t((0,m.RS)(e.id))},e.id))})}function w(e){let{toast:t,onRemove:r}=e;(0,f.useEffect)(()=>{let e=setTimeout(()=>{r()},5e3);return()=>clearTimeout(e)},[r]);let n={success:x.Z,error:g.Z,info:v.Z,warning:y.Z}[t.type];return(0,a.jsx)("div",{className:"max-w-sm w-full border rounded-lg p-4 shadow-lg ".concat({success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-blue-50 border-blue-200 text-blue-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800"}[t.type]),children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(n,{className:"h-5 w-5 mt-0.5 mr-3 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:t.title}),t.message&&(0,a.jsx)("p",{className:"mt-1 text-sm opacity-90",children:t.message})]}),(0,a.jsx)("button",{onClick:r,className:"ml-3 flex-shrink-0 opacity-70 hover:opacity-100",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})]})})}function k(e){let{children:t}=e;return(0,a.jsxs)(n.zt,{store:p,children:[(0,a.jsx)(j,{}),t]})}},6492:function(e,t,r){"use strict";r.d(t,{KO:function(){return o},No:function(){return c},Nq:function(){return s},eM:function(){return d}});var a=r(9523),n=r(3557);let i=(0,a.ni)({baseUrl:"/api/admin",prepareHeaders:(e,t)=>{let{getState:r}=t,a=r().auth.token;return a&&e.set("authorization","Bearer ".concat(a)),e}}),s=(0,n.LC)({reducerPath:"adminApi",baseQuery:i,tagTypes:["AdminCharity","AdminUser"],endpoints:e=>({getCharitiesForApproval:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"/charities?".concat(t)},providesTags:["AdminCharity"]}),approveCharity:e.mutation({query:e=>({url:"/charities/".concat(e,"/approve"),method:"POST"}),invalidatesTags:["AdminCharity"]}),rejectCharity:e.mutation({query:e=>{let{id:t,reason:r}=e;return{url:"/charities/".concat(t,"/reject"),method:"POST",body:{reason:r}}},invalidatesTags:["AdminCharity"]})})}),{useGetCharitiesForApprovalQuery:o,useApproveCharityMutation:d,useRejectCharityMutation:c}=s},1032:function(e,t,r){"use strict";r.d(t,{YA:function(){return d},fP:function(){return u},iJ:function(){return s},l4:function(){return o},oW:function(){return c}});var a=r(9523),n=r(3557);let i=(0,a.ni)({baseUrl:"/api/auth",prepareHeaders:(e,t)=>{let{getState:r}=t,a=r().auth.token;return a&&e.set("authorization","Bearer ".concat(a)),e}}),s=(0,n.LC)({reducerPath:"authApi",baseQuery:i,tagTypes:["Auth"],endpoints:e=>({register:e.mutation({query:e=>({url:"/register",method:"POST",body:e})}),login:e.mutation({query:e=>({url:"/login",method:"POST",body:e})}),registerCharity:e.mutation({query:e=>({url:"/charity/register",method:"POST",body:e})}),loginCharity:e.mutation({query:e=>({url:"/charity/login",method:"POST",body:e})})})}),{useRegisterMutation:o,useLoginMutation:d,useRegisterCharityMutation:c,useLoginCharityMutation:u}=s},778:function(e,t,r){"use strict";r.d(t,{G0:function(){return s},hp:function(){return o},ic:function(){return u},jl:function(){return h},xG:function(){return d}});var a=r(9523),n=r(3557);let i=(0,a.ni)({baseUrl:"/api/charities",prepareHeaders:(e,t)=>{let{getState:r}=t,a=r().auth.token;return a&&e.set("authorization","Bearer ".concat(a)),e}}),s=(0,n.LC)({reducerPath:"charitiesApi",baseQuery:i,tagTypes:["Charity","ImpactReport"],endpoints:e=>({getCharities:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"?".concat(t)},providesTags:["Charity"]}),getCharityById:e.query({query:e=>"/".concat(e),providesTags:(e,t,r)=>[{type:"Charity",id:r}]}),updateCharity:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/".concat(t),method:"PUT",body:r}},invalidatesTags:(e,t,r)=>{let{id:a}=r;return[{type:"Charity",id:a}]}}),getImpactReports:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"/impact-reports?".concat(t)},providesTags:["ImpactReport"]}),createImpactReport:e.mutation({query:e=>({url:"/impact-reports",method:"POST",body:e}),invalidatesTags:["ImpactReport"]}),publishImpactReport:e.mutation({query:e=>({url:"/impact-reports/".concat(e,"/publish"),method:"POST"}),invalidatesTags:["ImpactReport"]})})}),{useGetCharitiesQuery:o,useGetCharityByIdQuery:d,useUpdateCharityMutation:c,useGetImpactReportsQuery:u,useCreateImpactReportMutation:l,usePublishImpactReportMutation:h}=s},4455:function(e,t,r){"use strict";r.d(t,{$I:function(){return o},BI:function(){return s},JM:function(){return d},ct:function(){return c}});var a=r(9523),n=r(3557);let i=(0,a.ni)({baseUrl:"/api/donations",prepareHeaders:(e,t)=>{let{getState:r}=t,a=r().auth.token;return a&&e.set("authorization","Bearer ".concat(a)),e}}),s=(0,n.LC)({reducerPath:"donationsApi",baseQuery:i,tagTypes:["Donation"],endpoints:e=>({createDonation:e.mutation({query:e=>({url:"",method:"POST",body:e}),invalidatesTags:["Donation"]}),confirmDonation:e.mutation({query:e=>({url:"/confirm",method:"POST",body:{paymentIntentId:e}}),invalidatesTags:["Donation"]}),getDonations:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"?".concat(t)},providesTags:["Donation"]}),getReceipt:e.query({query:e=>"/".concat(e,"/receipt")})})}),{useCreateDonationMutation:o,useConfirmDonationMutation:d,useGetDonationsQuery:c,useGetReceiptQuery:u}=s},247:function(e,t,r){"use strict";r.d(t,{Mx:function(){return o},TG:function(){return d},g8:function(){return s}});var a=r(9523),n=r(3557);let i=(0,a.ni)({baseUrl:"/api/users",prepareHeaders:(e,t)=>{let{getState:r}=t,a=r().auth.token;return a&&e.set("authorization","Bearer ".concat(a)),e}}),s=(0,n.LC)({reducerPath:"usersApi",baseQuery:i,tagTypes:["User"],endpoints:e=>({getProfile:e.query({query:()=>"/profile",providesTags:["User"]}),updateProfile:e.mutation({query:e=>({url:"/profile",method:"PUT",body:e}),invalidatesTags:["User"]})})}),{useGetProfileQuery:o,useUpdateProfileMutation:d}=s},6357:function(e,t,r){"use strict";r.d(t,{Dj:function(){return s},kS:function(){return o}});var a=r(9129);let n={user:null,token:localStorage.getItem("token"),isAuthenticated:!1,loading:!1},i=(0,a.oM)({name:"auth",initialState:n,reducers:{setCredentials:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,localStorage.setItem("token",t.payload.token)},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token")},setLoading:(e,t)=>{e.loading=t.payload}}}),{setCredentials:s,logout:o,setLoading:d}=i.actions;t.ZP=i.reducer},5098:function(e,t,r){"use strict";r.d(t,{RS:function(){return i},fz:function(){return n}});let a=(0,r(9129).oM)({name:"ui",initialState:{toasts:[],sidebarOpen:!1,loading:!1},reducers:{addToast:(e,t)=>{let r={...t.payload,id:Date.now().toString()};e.toasts.push(r)},removeToast:(e,t)=>{e.toasts=e.toasts.filter(e=>e.id!==t.payload)},toggleSidebar:e=>{e.sidebarOpen=!e.sidebarOpen},setLoading:(e,t)=>{e.loading=t.payload}}}),{addToast:n,removeToast:i,toggleSidebar:s,setLoading:o}=a.actions;t.ZP=a.reducer},7960:function(){}},function(e){e.O(0,[430,587,203,557,648,513,266,773,971,117,744],function(){return e(e.s=6384)}),_N_E=e.O()}]);