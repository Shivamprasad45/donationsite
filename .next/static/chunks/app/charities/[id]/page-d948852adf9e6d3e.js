(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{4273:function(e,t,s){Promise.resolve().then(s.bind(s,1754))},1754:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Z}});var a=s(7437),r=s(2265),n=s(9376),i=s(2660),l=s(3774),o=s(6595),c=s(9202),d=s(9345),m=s(3041),u=s(1047),x=s(8896),h=s(5805),p=s(2869),g=s(6070),f=s(5974),v=s(2759),j=s(2339),b=s(9501),y=s(5186),N=s(6815),w=s(4508);function k(e){let{className:t,...s}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,w.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}var z=s(9270),S=s(401);function R(e){let{className:t,...s}=e;return(0,a.jsx)(z.fC,{"data-slot":"checkbox",className:(0,w.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,a.jsx)(z.z$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(S.Z,{className:"size-3.5"})})})}var D=s(4455),C=s(386),P=s(5098);function A(e){let{charity:t,onSuccess:s}=e,[n,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)({}),c=(0,C.I0)(),[d]=(0,D.$I)(),[m]=(0,D.JM)(),{_doc:u}=t,{register:x,handleSubmit:h,watch:f,setValue:v,formState:{errors:j}}=(0,b.cI)({defaultValues:{isAnonymous:!1,amount:10,name:"",email:""}}),w=f("isAnonymous"),z=f("amount"),S=()=>new Promise((e,t)=>{if(window.Razorpay){e(!0);return}let s=document.createElement("script");s.src="https://checkout.razorpay.com/v1/checkout.js",s.async=!0,s.onload=()=>{window.Razorpay?e(!0):t(Error("Razorpay SDK failed to load"))},s.onerror=()=>{t(Error("Failed to load Razorpay SDK"))},document.body.appendChild(s)}),A=e=>{let t={};return(!e.amount||e.amount<1)&&(t.amount="Amount must be at least $1"),e.name.trim()||w||(t.name="Name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",o(t),0===Object.keys(t).length},I=async e=>{if(A(e)){i(!0);try{var t,a,r;console.log("Creating donation...",{charityId:u.id||u._id,amount:e.amount});let n=await d({charityId:u.id||u._id||"68947b07640d0404198017e0",amount:e.amount,currency:"INR",paymentMethod:"razorpay",isAnonymous:e.isAnonymous,message:e.message,dedicatedTo:e.dedicatedTo,donorName:e.name,donorEmail:e.email}).unwrap();console.log("Donation created:",n);try{await S(),console.log("Razorpay SDK loaded successfully")}catch(e){throw console.error("Failed to load Razorpay SDK:",e),Error("Failed to load payment gateway")}let l="rzp_test_hwiN7JGivkrEJM";if(!l)throw console.error("Razorpay Key ID not found in environment variables"),Error("Payment gateway configuration error");console.log("Razorpay Key ID:",l);let o={key:l,amount:(null===(t=n.order)||void 0===t?void 0:t.amount)||100*e.amount,currency:(null===(a=n.order)||void 0===a?void 0:a.currency)||"INR",name:u.name||"Charity",description:"Donation to ".concat(u.name),order_id:null===(r=n.order)||void 0===r?void 0:r.id,handler:async t=>{try{console.log("Payment successful:",t),await m({orderId:t.razorpay_order_id,paymentId:t.razorpay_payment_id,signature:t.razorpay_signature}).unwrap(),c((0,P.fz)({type:"success",title:"Donation Successful!",message:"Thank you for your donation of ₹".concat(e.amount," to ").concat(u.name)})),null==s||s(n.donation)}catch(e){console.error("Payment confirmation failed:",e),c((0,P.fz)({type:"error",title:"Payment Confirmation Failed",message:"Payment was successful but confirmation failed. Please contact support."}))}finally{i(!1)}},prefill:{name:e.isAnonymous?"Anonymous":e.name,email:e.email},theme:{color:"#4f46e5"},modal:{ondismiss:()=>{console.log("Payment modal dismissed"),i(!1)}}};if(console.log("Razorpay options:",o),!window.Razorpay)throw Error("Razorpay SDK not available");let x=new window.Razorpay(o);x.on("payment.failed",e=>{var t;console.error("Payment failed:",e),c((0,P.fz)({type:"error",title:"Payment Failed",message:(null===(t=e.error)||void 0===t?void 0:t.description)||"Payment failed. Please try again."})),i(!1)}),console.log("Opening Razorpay modal..."),x.open()}catch(e){console.error("Donation error:",e),c((0,P.fz)({type:"error",title:"Donation Failed",message:e.message||"Something went wrong. Please try again."})),i(!1)}}};return(0,a.jsxs)(g.Zb,{children:[(0,a.jsx)(g.Ol,{children:(0,a.jsxs)(g.ll,{children:["Make a Donation to ",(null==u?void 0:u.name)||"Charity"]})}),(0,a.jsx)(g.aY,{children:(0,a.jsxs)("form",{onSubmit:h(I),className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N._,{htmlFor:"amount",children:"Donation Amount (₹)"}),(0,a.jsx)(y.I,{id:"amount",type:"number",min:"1",step:"0.01",...x("amount",{valueAsNumber:!0}),placeholder:"Enter amount"}),l.amount&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:l.amount})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[10,25,50,100].map(e=>(0,a.jsxs)(p.z,{type:"button",variant:"outline",onClick:()=>v("amount",e),className:"text-sm",children:["₹",e]},e))}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N._,{htmlFor:"name",children:"Your Name *"}),(0,a.jsx)(y.I,{id:"name",...x("name"),placeholder:"Enter your name",disabled:w}),l.name&&!w&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:l.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N._,{htmlFor:"email",children:"Email *"}),(0,a.jsx)(y.I,{id:"email",type:"email",...x("email"),placeholder:"Enter your email"}),l.email&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:l.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N._,{htmlFor:"message",children:"Message (Optional)"}),(0,a.jsx)(k,{id:"message",...x("message"),placeholder:"Leave a message for the charity",rows:3})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N._,{htmlFor:"dedicatedTo",children:"Dedicate this donation (Optional)"}),(0,a.jsx)(y.I,{id:"dedicatedTo",...x("dedicatedTo"),placeholder:"In memory of / In honor of"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(R,{id:"isAnonymous",checked:w,onCheckedChange:e=>v("isAnonymous",!!e)}),(0,a.jsx)(N._,{htmlFor:"isAnonymous",children:"Make this donation anonymous"})]}),(0,a.jsx)(p.z,{type:"submit",className:"w-full",disabled:n,children:n?"Processing...":"Donate ₹".concat(z||0)})]})})]})}var I=s(8245),_=s(778);function Z(){var e,t,s,b,y,N;let w=(0,n.useParams)(),k=(0,n.useRouter)(),{isAuthenticated:z}=(0,C.v9)(e=>e.auth),[S,R]=(0,r.useState)(!1),{data:D,isLoading:P,error:Z}=(0,_.xG)(w.id);if(P)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading charity details..."})]})});if(Z||!(null==D?void 0:D.charity))return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Charity not found or failed to load."}),(0,a.jsx)(p.z,{onClick:()=>k.push("/charities"),children:"Back to Charities"})]})});let{charity:F,recentReports:T}=D,{_doc:L}=F,E=null===(e=F.goals)||void 0===e?void 0:e.find(e=>e.isActive);return console.log(L),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsxs)(p.z,{variant:"ghost",onClick:()=>k.back(),className:"mb-4",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("img",{src:L.logo||"https://picsum.photos/seed/".concat(Math.floor(200*Math.random()),"/600/400"),alt:L.name,className:"w-32 h-32 rounded-lg object-cover"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:L.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-gray-600 mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:[L.location.city,", ",L.location.state]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-1 text-yellow-500 fill-current"}),(0,a.jsxs)("span",{children:[L.rating.toFixed(1)," (",(null===(t=L.reviews)||void 0===t?void 0:t.length)||0," ","reviews)"]})]})]}),(0,a.jsx)(f.C,{variant:"secondary",className:"mb-4",children:L.category})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:["$",(null===(s=L.totalReceived)||void 0===s?void 0:s.toLocaleString())||0]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"raised"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[L.donorCount||0," donors"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[z?(0,a.jsx)(p.z,{size:"lg",onClick:()=>R(!0),className:"flex-1 sm:flex-none",children:"Donate Now"}):(0,a.jsx)(p.z,{size:"lg",onClick:()=>k.push("/auth/login"),className:"flex-1 sm:flex-none",children:"Login to Donate"}),(0,a.jsx)("div",{className:"flex gap-2",children:L.website&&(0,a.jsx)(p.z,{variant:"outline",size:"lg",asChild:!0,children:(0,a.jsxs)("a",{href:L.website,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Website"]})})})]})]})]})]})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(j.mQ,{defaultValue:"about",className:"space-y-6",children:[(0,a.jsxs)(j.dr,{children:[(0,a.jsx)(j.SP,{value:"about",children:"About"}),(0,a.jsx)(j.SP,{value:"goals",children:"Goals & Projects"}),(0,a.jsx)(j.SP,{value:"impact",children:"Impact Reports"}),(0,a.jsx)(j.SP,{value:"reviews",children:"Reviews"})]}),(0,a.jsx)(j.nU,{value:"about",children:(0,a.jsxs)(g.Zb,{children:[(0,a.jsx)(g.Ol,{children:(0,a.jsxs)(g.ll,{children:["About ",L.name]})}),(0,a.jsxs)(g.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-700",children:L.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Mission"}),(0,a.jsx)("p",{className:"text-gray-700",children:L.mission})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Vision"}),(0,a.jsx)("p",{className:"text-gray-700",children:L.vision})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Contact Information"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:L.email})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:L.phone})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsxs)("span",{children:[L.location.address,", ",L.location.city,","," ",L.location.state]})]})]})]})]})]})}),(0,a.jsx)(j.nU,{value:"goals",children:(0,a.jsx)("div",{className:"space-y-6",children:(null===(b=L.goals)||void 0===b?void 0:b.length)>0?L.goals.map((e,t)=>(0,a.jsxs)(g.Zb,{children:[(0,a.jsx)(g.Ol,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)(g.ll,{className:"text-lg",children:e.title}),(0,a.jsx)(f.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]})}),(0,a.jsxs)(g.aY,{children:[(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:["$",e.currentAmount.toLocaleString()," / $",e.targetAmount.toLocaleString()]})]}),(0,a.jsx)(v.E,{value:e.currentAmount/e.targetAmount*100,className:"h-2"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(e.currentAmount/e.targetAmount*100).toFixed(1),"% completed"]})]}),e.deadline&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mt-4",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:["Deadline:"," ",new Date(e.deadline).toLocaleDateString()]})]})]})]},t)):(0,a.jsx)(g.Zb,{children:(0,a.jsx)(g.aY,{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-600",children:"No active goals or projects at the moment."})})})})}),(0,a.jsx)(j.nU,{value:"impact",children:(0,a.jsx)("div",{className:"space-y-6",children:(null==T?void 0:T.length)>0?(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6",children:T.map(e=>(0,a.jsx)(I.R,{report:e},e.id))}):(0,a.jsx)(g.Zb,{children:(0,a.jsx)(g.aY,{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-600",children:"No impact reports available yet."})})})})}),(0,a.jsx)(j.nU,{value:"reviews",children:(0,a.jsx)("div",{className:"space-y-6",children:(null===(y=L.reviews)||void 0===y?void 0:y.length)>0?L.reviews.map((e,t)=>(0,a.jsx)(g.Zb,{children:(0,a.jsxs)(g.aY,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("div",{className:"flex items-center space-x-1",children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,a.jsx)(o.Z,{className:"h-4 w-4 ".concat(s<e.rating?"text-yellow-500 fill-current":"text-gray-300")},s))}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsx)("p",{className:"text-gray-700",children:e.comment})]})},t)):(0,a.jsx)(g.Zb,{children:(0,a.jsx)(g.aY,{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-600",children:"No reviews yet."})})})})})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(g.Zb,{children:[(0,a.jsx)(g.Ol,{children:(0,a.jsx)(g.ll,{children:"Quick Stats"})}),(0,a.jsxs)(g.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm",children:"Total Raised"})]}),(0,a.jsxs)("span",{className:"font-semibold",children:["$",(null===(N=F.totalReceived)||void 0===N?void 0:N.toLocaleString())||0]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2 text-green-600"}),(0,a.jsx)("span",{className:"text-sm",children:"Donors"})]}),(0,a.jsx)("span",{className:"font-semibold",children:F.donorCount||0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2 text-yellow-600"}),(0,a.jsx)("span",{className:"text-sm",children:"Rating"})]}),(0,a.jsxs)("span",{className:"font-semibold",children:[L.rating.toFixed(1),"/5"]})]})]})]}),E&&(0,a.jsxs)(g.Zb,{children:[(0,a.jsx)(g.Ol,{children:(0,a.jsx)(g.ll,{children:"Current Goal"})}),(0,a.jsxs)(g.aY,{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:E.title}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:E.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:["$",E.currentAmount.toLocaleString()," / $",E.targetAmount.toLocaleString()]})]}),(0,a.jsx)(v.E,{value:E.currentAmount/E.targetAmount*100,className:"h-2"})]})]})]})]})]})}),S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Make a Donation"}),(0,a.jsx)(p.z,{variant:"ghost",size:"sm",onClick:()=>R(!1),children:"\xd7"})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(A,{charity:F,onSuccess:()=>{R(!1),k.push("/receipt")}})})]})})]})}},8245:function(e,t,s){"use strict";s.d(t,{R:function(){return u}});var a=s(7437),r=s(7648),n=s(5252),i=s(5805),l=s(1047),o=s(6070),c=s(5974),d=s(2869),m=s(2759);function u(e){let{report:t}=e,s=t.totalFundsUtilized/t.totalFundsReceived*100;return(0,a.jsxs)(o.Zb,{className:"h-full flex flex-col hover:shadow-lg transition-shadow",children:[(0,a.jsx)(o.Ol,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.ll,{className:"text-lg line-clamp-2",children:t.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.charity.name})]}),(0,a.jsx)(c.C,{variant:"secondary",children:new Date(t.publishedAt).getFullYear()})]})}),(0,a.jsxs)(o.aY,{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-gray-700 text-sm line-clamp-3 mb-4",children:t.description}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),(0,a.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Funds Received"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:["$",t.totalFundsReceived.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),(0,a.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Beneficiaries"}),(0,a.jsx)("p",{className:"text-lg font-bold text-green-600",children:t.beneficiariesReached.toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"font-medium",children:"Fund Utilization"}),(0,a.jsxs)("span",{className:"text-gray-600",children:["$",t.totalFundsUtilized.toLocaleString()," / $",t.totalFundsReceived.toLocaleString()]})]}),(0,a.jsx)(m.E,{value:s,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[s.toFixed(1),"% utilized"]})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:[new Date(t.reportPeriod.startDate).toLocaleDateString()," - "," ",new Date(t.reportPeriod.endDate).toLocaleDateString()]})]})]}),(0,a.jsx)(o.eW,{children:(0,a.jsx)(r.default,{href:"/impact-reports/".concat(t.id),className:"w-full",children:(0,a.jsx)(d.z,{variant:"outline",className:"w-full",children:"View Full Report"})})})]})}},5974:function(e,t,s){"use strict";s.d(t,{C:function(){return o}});var a=s(7437);s(2265);var r=s(7053),n=s(535),i=s(4508);let l=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,asChild:n=!1,...o}=e,c=n?r.g7:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(l({variant:s}),t),...o})}},2869:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var a=s(7437);s(2265);var r=s(7053),n=s(535),i=s(4508);let l=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:s,size:n,asChild:o=!1,...c}=e,d=o?r.g7:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:t})),...c})}},6070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},Zb:function(){return n},aY:function(){return o},eW:function(){return c},ll:function(){return l}});var a=s(7437);s(2265);var r=s(4508);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",t),...s})}},5186:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var a=s(7437),r=s(2265),n=s(4508);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,ref:t,className:(0,n.cn)("flex h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none","placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground","file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","dark:bg-input/30","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 aria-invalid:border-destructive dark:aria-invalid:ring-destructive/40","disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","md:text-sm",s),...i})});i.displayName="Input"},6815:function(e,t,s){"use strict";s.d(t,{_:function(){return i}});var a=s(7437);s(2265);var r=s(6394),n=s(4508);function i(e){let{className:t,...s}=e;return(0,a.jsx)(r.f,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},2759:function(e,t,s){"use strict";s.d(t,{E:function(){return i}});var a=s(7437);s(2265);var r=s(610),n=s(4508);function i(e){let{className:t,value:s,...i}=e;return(0,a.jsx)(r.fC,{"data-slot":"progress",className:(0,n.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...i,children:(0,a.jsx)(r.z$,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}},2339:function(e,t,s){"use strict";s.d(t,{SP:function(){return o},dr:function(){return l},mQ:function(){return i},nU:function(){return c}});var a=s(7437);s(2265);var r=s(271),n=s(4508);function i(e){let{className:t,...s}=e;return(0,a.jsx)(r.fC,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)(r.aV,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)(r.xz,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)(r.VY,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",t),...s})}},4508:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(1994),r=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},778:function(e,t,s){"use strict";s.d(t,{G0:function(){return i},hp:function(){return l},ic:function(){return d},jl:function(){return u},xG:function(){return o}});var a=s(9523),r=s(3557);let n=(0,a.ni)({baseUrl:"/api/charities",prepareHeaders:(e,t)=>{let{getState:s}=t,a=s().auth.token;return a&&e.set("authorization","Bearer ".concat(a)),e}}),i=(0,r.LC)({reducerPath:"charitiesApi",baseQuery:n,tagTypes:["Charity","ImpactReport"],endpoints:e=>({getCharities:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"?".concat(t)},providesTags:["Charity"]}),getCharityById:e.query({query:e=>"/".concat(e),providesTags:(e,t,s)=>[{type:"Charity",id:s}]}),updateCharity:e.mutation({query:e=>{let{id:t,...s}=e;return{url:"/".concat(t),method:"PUT",body:s}},invalidatesTags:(e,t,s)=>{let{id:a}=s;return[{type:"Charity",id:a}]}}),getImpactReports:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"/impact-reports?".concat(t)},providesTags:["ImpactReport"]}),createImpactReport:e.mutation({query:e=>({url:"/impact-reports",method:"POST",body:e}),invalidatesTags:["ImpactReport"]}),publishImpactReport:e.mutation({query:e=>({url:"/impact-reports/".concat(e,"/publish"),method:"POST"}),invalidatesTags:["ImpactReport"]})})}),{useGetCharitiesQuery:l,useGetCharityByIdQuery:o,useUpdateCharityMutation:c,useGetImpactReportsQuery:d,useCreateImpactReportMutation:m,usePublishImpactReportMutation:u}=i},4455:function(e,t,s){"use strict";s.d(t,{$I:function(){return l},BI:function(){return i},JM:function(){return o},ct:function(){return c}});var a=s(9523),r=s(3557);let n=(0,a.ni)({baseUrl:"/api/donations",prepareHeaders:(e,t)=>{let{getState:s}=t,a=s().auth.token;return a&&e.set("authorization","Bearer ".concat(a)),e}}),i=(0,r.LC)({reducerPath:"donationsApi",baseQuery:n,tagTypes:["Donation"],endpoints:e=>({createDonation:e.mutation({query:e=>({url:"",method:"POST",body:e}),invalidatesTags:["Donation"]}),confirmDonation:e.mutation({query:e=>({url:"/confirm",method:"POST",body:{paymentIntentId:e}}),invalidatesTags:["Donation"]}),getDonations:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return"?".concat(t)},providesTags:["Donation"]}),getReceipt:e.query({query:e=>"/".concat(e,"/receipt")})})}),{useCreateDonationMutation:l,useConfirmDonationMutation:o,useGetDonationsQuery:c,useGetReceiptQuery:d}=i},5098:function(e,t,s){"use strict";s.d(t,{RS:function(){return n},fz:function(){return r}});let a=(0,s(9129).oM)({name:"ui",initialState:{toasts:[],sidebarOpen:!1,loading:!1},reducers:{addToast:(e,t)=>{let s={...t.payload,id:Date.now().toString()};e.toasts.push(s)},removeToast:(e,t)=>{e.toasts=e.toasts.filter(e=>e.id!==t.payload)},toggleSidebar:e=>{e.sidebarOpen=!e.sidebarOpen},setLoading:(e,t)=>{e.loading=t.payload}}}),{addToast:r,removeToast:n,toggleSidebar:i,setLoading:l}=a.actions;t.ZP=a.reducer}},function(e){e.O(0,[203,557,648,513,80,171,971,117,744],function(){return e(e.s=4273)}),_N_E=e.O()}]);