(()=>{var e={};e.id=416,e.ids=[416],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},37907:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o}),a(56732),a(88997),a(90996);var s=a(30170),r=a(45002),i=a(83876),n=a.n(i),d=a(66299),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);a.d(t,l);let o=["",{children:["dashboard",{children:["user",{children:["donations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,56732)),"C:\\Users\\Shivam\\Desktop\\charity-donation-backend (1)\\app\\dashboard\\user\\donations\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,88997)),"C:\\Users\\Shivam\\Desktop\\charity-donation-backend (1)\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,90996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Shivam\\Desktop\\charity-donation-backend (1)\\app\\dashboard\\user\\donations\\page.tsx"],u="/dashboard/user/donations/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/user/donations/page",pathname:"/dashboard/user/donations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},40579:(e,t,a)=>{Promise.resolve().then(a.bind(a,11039))},11039:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(97247),r=a(28964),i=a(79906),n=a(77940),d=a(999),l=a(70457),o=a(27757),c=a(58053),u=a(88964),x=a(70170),m=a(94049),p=a(2799);function h(){let[e,t]=(0,r.useState)(1),[a,h]=(0,r.useState)(""),[g,v]=(0,r.useState)("all"),f={page:e.toString(),limit:"10",...a&&{search:a},..."all"!==g&&{status:g}},{data:b,isLoading:j,error:y}=(0,p.ct)(f),N=e=>{window.open(`/api/donations/${e}/receipt`,"_blank")};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx(i.default,{href:"/dashboard/user",children:(0,s.jsxs)(c.z,{variant:"ghost",className:"mb-4",children:[s.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Donation History"}),s.jsx("p",{className:"text-gray-600",children:"View and manage all your donations"})]}),s.jsx(o.Zb,{className:"mb-6",children:s.jsx(o.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(x.I,{placeholder:"Search by charity name...",value:a,onChange:e=>h(e.target.value)})}),s.jsx("div",{className:"w-full md:w-48",children:(0,s.jsxs)(m.Ph,{value:g,onValueChange:v,children:[s.jsx(m.i4,{children:s.jsx(m.ki,{placeholder:"Filter by status"})}),(0,s.jsxs)(m.Bw,{children:[s.jsx(m.Ql,{value:"all",children:"All Status"}),s.jsx(m.Ql,{value:"completed",children:"Completed"}),s.jsx(m.Ql,{value:"pending",children:"Pending"}),s.jsx(m.Ql,{value:"failed",children:"Failed"})]})]})})]})})}),(0,s.jsxs)(o.Zb,{children:[s.jsx(o.Ol,{children:(0,s.jsxs)(o.ll,{children:["Your Donations (",b?.pagination?.total||0,")"]})}),s.jsx(o.aY,{children:j?s.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-20 bg-gray-200 rounded"})},t))}):y?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"Failed to load donations. Please try again."})}):b?.donations?.length===0?(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No donations found."}),s.jsx(i.default,{href:"/charities",children:s.jsx(c.z,{children:"Start Donating"})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:b?.donations?.map(e=>s.jsx("div",{className:"border rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:e.charity.logo||"/placeholder.svg?height=60&width=60&query=charity logo",alt:e.charity.name,className:"w-15 h-15 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-1",children:e.charity.name}),s.jsxs("p",{className:"text-gray-600 mb-2",children:["Receipt: ",e.receiptNumber]}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),e.message&&s.jsxs("p",{className:"text-sm text-gray-700 mt-2 italic",children:['"',e.message,'"']}),e.dedicatedTo&&s.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[s.jsx("strong",{children:"Dedicated to:"})," ",e.dedicatedTo]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-2",children:["$",e.amount.toLocaleString()]}),s.jsx(u.C,{variant:"completed"===e.paymentStatus?"default":"pending"===e.paymentStatus?"secondary":"destructive",className:"mb-3",children:e.paymentStatus}),s.jsxs("div",{className:"flex flex-col space-y-2",children:["completed"===e.paymentStatus&&s.jsxs(c.z,{size:"sm",variant:"outline",onClick:()=>N(e.id),children:[s.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Receipt"]}),s.jsx(i.default,{href:`/charities/${e.charity.id}`,children:s.jsxs(c.z,{size:"sm",variant:"ghost",className:"w-full",children:[s.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"View Charity"]})})]})]})]})},e.id))}),b?.pagination&&b.pagination.pages>1&&(0,s.jsxs)("div",{className:"flex justify-center space-x-2 mt-6",children:[s.jsx(c.z,{variant:"outline",onClick:()=>t(e-1),disabled:1===e,children:"Previous"}),[...Array(Math.min(5,b.pagination.pages))].map((a,r)=>{let i=r+1;return s.jsx(c.z,{variant:e===i?"default":"outline",onClick:()=>t(i),children:i},i)}),s.jsx(c.z,{variant:"outline",onClick:()=>t(e+1),disabled:e===b.pagination.pages,children:"Next"})]})]})})]})]})})}},88964:(e,t,a)=>{"use strict";a.d(t,{C:()=>l});var s=a(97247);a(28964);var r=a(69008),i=a(87972),n=a(25008);let d=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,asChild:a=!1,...i}){let l=a?r.g7:"span";return s.jsx(l,{"data-slot":"badge",className:(0,n.cn)(d({variant:t}),e),...i})}},27757:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>n,Zb:()=>i,aY:()=>l,eW:()=>o,ll:()=>d});var s=a(97247);a(28964);var r=a(25008);function i({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function n({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function d({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}function o({className:e,...t}){return s.jsx("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}},70170:(e,t,a)=>{"use strict";a.d(t,{I:()=>n});var s=a(97247),r=a(28964),i=a(25008);let n=r.forwardRef(({className:e,type:t,...a},r)=>s.jsx("input",{type:t,ref:r,className:(0,i.cn)("flex h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none","placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground","file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","dark:bg-input/30","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 aria-invalid:border-destructive dark:aria-invalid:ring-destructive/40","disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","md:text-sm",e),...a}));n.displayName="Input"},94049:(e,t,a)=>{"use strict";a.d(t,{Bw:()=>x,Ph:()=>o,Ql:()=>m,i4:()=>u,ki:()=>c});var s=a(97247);a(28964);var r=a(54576),i=a(62513),n=a(48799),d=a(45370),l=a(25008);function o({...e}){return s.jsx(r.fC,{"data-slot":"select",...e})}function c({...e}){return s.jsx(r.B4,{"data-slot":"select-value",...e})}function u({className:e,size:t="default",children:a,...n}){return(0,s.jsxs)(r.xz,{"data-slot":"select-trigger","data-size":t,className:(0,l.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[a,s.jsx(r.JO,{asChild:!0,children:s.jsx(i.Z,{className:"size-4 opacity-50"})})]})}function x({className:e,children:t,position:a="popper",...i}){return s.jsx(r.h_,{children:(0,s.jsxs)(r.VY,{"data-slot":"select-content",className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...i,children:[s.jsx(p,{}),s.jsx(r.l_,{className:(0,l.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(h,{})]})})}function m({className:e,children:t,...a}){return(0,s.jsxs)(r.ck,{"data-slot":"select-item",className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(r.wU,{children:s.jsx(n.Z,{className:"size-4"})})}),s.jsx(r.eT,{children:t})]})}function p({className:e,...t}){return s.jsx(r.u_,{"data-slot":"select-scroll-up-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(d.Z,{className:"size-4"})})}function h({className:e,...t}){return s.jsx(r.$G,{"data-slot":"select-scroll-down-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i.Z,{className:"size-4"})})}},77940:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},999:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},70457:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},56732:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(45347).createProxy)(String.raw`C:\Users\Shivam\Desktop\charity-donation-backend (1)\app\dashboard\user\donations\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[379,648,398,436],()=>a(37907));module.exports=s})();