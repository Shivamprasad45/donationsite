(()=>{var e={};e.id=613,e.ids=[613],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29511:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(71481),t(88997),t(90996);var s=t(30170),r=t(45002),i=t(83876),n=t.n(i),l=t(66299),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(a,o);let d=["",{children:["charities",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,71481)),"C:\\Users\\Shivam\\Desktop\\charity-donation-backend (1)\\app\\charities\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,88997)),"C:\\Users\\Shivam\\Desktop\\charity-donation-backend (1)\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Shivam\\Desktop\\charity-donation-backend (1)\\app\\charities\\[id]\\page.tsx"],m="/charities/[id]/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/charities/[id]/page",pathname:"/charities/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},16306:(e,a,t)=>{Promise.resolve().then(t.bind(t,30460))},30460:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>X});var s=t(97247),r=t(28964),i=t(34178),n=t(77940),l=t(9527),o=t(74974),d=t(26323);let c=(0,d.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),m=(0,d.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),u=(0,d.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var x=t(50820),h=t(62673),p=t(57989),f=t(58053),v=t(27757),g=t(88964),j=t(71331),y=t(21605),b=t(2704),N=t(70170),w=t(22394),k=t(25008);function P({className:e,...a}){return s.jsx("textarea",{"data-slot":"textarea",className:(0,k.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}var z=t(93191),D=t(20732),C=t(70319),R=t(28469),S=t(45298),Z=t(30255),M=t(67264),A=t(22251),_="Checkbox",[I,E]=(0,D.b)(_),[F,$]=I(_),L=r.forwardRef((e,a)=>{let{__scopeCheckbox:t,name:i,checked:n,defaultChecked:l,required:o,disabled:d,value:c="on",onCheckedChange:m,form:u,...x}=e,[h,p]=r.useState(null),f=(0,z.e)(a,e=>p(e)),v=r.useRef(!1),g=!h||u||!!h.closest("form"),[j=!1,y]=(0,R.T)({prop:n,defaultProp:l,onChange:m}),b=r.useRef(j);return r.useEffect(()=>{let e=h?.form;if(e){let a=()=>y(b.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[h,y]),(0,s.jsxs)(F,{scope:t,state:j,disabled:d,children:[(0,s.jsx)(A.WV.button,{type:"button",role:"checkbox","aria-checked":O(j)?"mixed":j,"aria-required":o,"data-state":U(j),"data-disabled":d?"":void 0,disabled:d,value:c,...x,ref:f,onKeyDown:(0,C.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,C.M)(e.onClick,e=>{y(e=>!!O(e)||!e),g&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),g&&(0,s.jsx)(q,{control:h,bubbles:!v.current,name:i,value:c,checked:j,required:o,disabled:d,form:u,style:{transform:"translateX(-100%)"},defaultChecked:!O(l)&&l})]})});L.displayName=_;var T="CheckboxIndicator",V=r.forwardRef((e,a)=>{let{__scopeCheckbox:t,forceMount:r,...i}=e,n=$(T,t);return(0,s.jsx)(M.z,{present:r||O(n.state)||!0===n.state,children:(0,s.jsx)(A.WV.span,{"data-state":U(n.state),"data-disabled":n.disabled?"":void 0,...i,ref:a,style:{pointerEvents:"none",...e.style}})})});V.displayName=T;var q=e=>{let{control:a,checked:t,bubbles:i=!0,defaultChecked:n,...l}=e,o=r.useRef(null),d=(0,S.D)(t),c=(0,Z.t)(a);r.useEffect(()=>{let e=o.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==t&&a){let s=new Event("click",{bubbles:i});e.indeterminate=O(t),a.call(e,!O(t)&&t),e.dispatchEvent(s)}},[d,t,i]);let m=r.useRef(!O(t)&&t);return(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??m.current,...l,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function O(e){return"indeterminate"===e}function U(e){return O(e)?"indeterminate":e?"checked":"unchecked"}var Y=t(48799);function K({className:e,...a}){return s.jsx(L,{"data-slot":"checkbox",className:(0,k.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:s.jsx(V,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Y.Z,{className:"size-3.5"})})})}var W=t(2799),G=t(23102),H=t(30218);function B({charity:e,onSuccess:a}){let[t,i]=(0,r.useState)(!1),[n,l]=(0,r.useState)({}),o=(0,G.I0)(),[d]=(0,W.$I)(),[c]=(0,W.JM)(),{_doc:m}=e,{register:u,handleSubmit:x,watch:h,setValue:p,formState:{errors:g}}=(0,b.cI)({defaultValues:{isAnonymous:!1,amount:10,name:"",email:""}}),j=h("isAnonymous"),y=h("amount"),k=()=>new Promise((e,a)=>{if(window.Razorpay){e(!0);return}let t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.async=!0,t.onload=()=>{window.Razorpay?e(!0):a(Error("Razorpay SDK failed to load"))},t.onerror=()=>{a(Error("Failed to load Razorpay SDK"))},document.body.appendChild(t)}),z=e=>{let a={};return(!e.amount||e.amount<1)&&(a.amount="Amount must be at least $1"),e.name.trim()||j||(a.name="Name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(a.email="Invalid email address"):a.email="Email is required",l(a),0===Object.keys(a).length},D=async e=>{if(z(e)){i(!0);try{console.log("Creating donation...",{charityId:m.id||m._id,amount:e.amount});let t=await d({charityId:m.id||m._id||"68947b07640d0404198017e0",amount:e.amount,currency:"INR",paymentMethod:"razorpay",isAnonymous:e.isAnonymous,message:e.message,dedicatedTo:e.dedicatedTo,donorName:e.name,donorEmail:e.email}).unwrap();console.log("Donation created:",t);try{await k(),console.log("Razorpay SDK loaded successfully")}catch(e){throw console.error("Failed to load Razorpay SDK:",e),Error("Failed to load payment gateway")}let s="rzp_test_hwiN7JGivkrEJM";if(!s)throw console.error("Razorpay Key ID not found in environment variables"),Error("Payment gateway configuration error");console.log("Razorpay Key ID:",s);let r={key:s,amount:t.order?.amount||100*e.amount,currency:t.order?.currency||"INR",name:m.name||"Charity",description:`Donation to ${m.name}`,order_id:t.order?.id,handler:async s=>{try{console.log("Payment successful:",s),await c({orderId:s.razorpay_order_id,paymentId:s.razorpay_payment_id,signature:s.razorpay_signature}).unwrap(),o((0,H.fz)({type:"success",title:"Donation Successful!",message:`Thank you for your donation of ₹${e.amount} to ${m.name}`})),a?.(t.donation)}catch(e){console.error("Payment confirmation failed:",e),o((0,H.fz)({type:"error",title:"Payment Confirmation Failed",message:"Payment was successful but confirmation failed. Please contact support."}))}finally{i(!1)}},prefill:{name:e.isAnonymous?"Anonymous":e.name,email:e.email},theme:{color:"#4f46e5"},modal:{ondismiss:()=>{console.log("Payment modal dismissed"),i(!1)}}};if(console.log("Razorpay options:",r),!window.Razorpay)throw Error("Razorpay SDK not available");let n=new window.Razorpay(r);n.on("payment.failed",e=>{console.error("Payment failed:",e),o((0,H.fz)({type:"error",title:"Payment Failed",message:e.error?.description||"Payment failed. Please try again."})),i(!1)}),console.log("Opening Razorpay modal..."),n.open()}catch(e){console.error("Donation error:",e),o((0,H.fz)({type:"error",title:"Donation Failed",message:e.message||"Something went wrong. Please try again."})),i(!1)}}};return(0,s.jsxs)(v.Zb,{children:[s.jsx(v.Ol,{children:(0,s.jsxs)(v.ll,{children:["Make a Donation to ",m?.name||"Charity"]})}),s.jsx(v.aY,{children:(0,s.jsxs)("form",{onSubmit:x(D),className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx(w._,{htmlFor:"amount",children:"Donation Amount (₹)"}),s.jsx(N.I,{id:"amount",type:"number",min:"1",step:"0.01",...u("amount",{valueAsNumber:!0}),placeholder:"Enter amount"}),n.amount&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:n.amount})]}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:[10,25,50,100].map(e=>(0,s.jsxs)(f.z,{type:"button",variant:"outline",onClick:()=>p("amount",e),className:"text-sm",children:["₹",e]},e))}),(0,s.jsxs)("div",{children:[s.jsx(w._,{htmlFor:"name",children:"Your Name *"}),s.jsx(N.I,{id:"name",...u("name"),placeholder:"Enter your name",disabled:j}),n.name&&!j&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:n.name})]}),(0,s.jsxs)("div",{children:[s.jsx(w._,{htmlFor:"email",children:"Email *"}),s.jsx(N.I,{id:"email",type:"email",...u("email"),placeholder:"Enter your email"}),n.email&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:n.email})]}),(0,s.jsxs)("div",{children:[s.jsx(w._,{htmlFor:"message",children:"Message (Optional)"}),s.jsx(P,{id:"message",...u("message"),placeholder:"Leave a message for the charity",rows:3})]}),(0,s.jsxs)("div",{children:[s.jsx(w._,{htmlFor:"dedicatedTo",children:"Dedicate this donation (Optional)"}),s.jsx(N.I,{id:"dedicatedTo",...u("dedicatedTo"),placeholder:"In memory of / In honor of"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(K,{id:"isAnonymous",checked:j,onCheckedChange:e=>p("isAnonymous",!!e)}),s.jsx(w._,{htmlFor:"isAnonymous",children:"Make this donation anonymous"})]}),s.jsx(f.z,{type:"submit",className:"w-full",disabled:t,children:t?"Processing...":`Donate ₹${y||0}`})]})})]})}var J=t(70961),Q=t(54856);function X(){let e=(0,i.useParams)(),a=(0,i.useRouter)(),{isAuthenticated:t}=(0,G.v9)(e=>e.auth),[d,b]=(0,r.useState)(!1),{data:N,isLoading:w,error:k}=(0,Q.xG)(e.id);if(w)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading charity details..."})]})});if(k||!N?.charity)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Charity not found or failed to load."}),s.jsx(f.z,{onClick:()=>a.push("/charities"),children:"Back to Charities"})]})});let{charity:P,recentReports:z}=N,{_doc:D}=P,C=P.goals?.find(e=>e.isActive);return console.log(D),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,s.jsxs)(f.z,{variant:"ghost",onClick:()=>a.back(),className:"mb-4",children:[s.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:D.logo||`https://picsum.photos/seed/${Math.floor(200*Math.random())}/600/400`,alt:D.name,className:"w-32 h-32 rounded-lg object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:D.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-gray-600 mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(l.Z,{className:"h-4 w-4 mr-1"}),(0,s.jsxs)("span",{children:[D.location.city,", ",D.location.state]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(o.Z,{className:"h-4 w-4 mr-1 text-yellow-500 fill-current"}),(0,s.jsxs)("span",{children:[D.rating.toFixed(1)," (",D.reviews?.length||0," ","reviews)"]})]})]}),s.jsx(g.C,{variant:"secondary",className:"mb-4",children:D.category})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:["$",D.totalReceived?.toLocaleString()||0]}),s.jsx("div",{className:"text-sm text-gray-600",children:"raised"}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[D.donorCount||0," donors"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[t?s.jsx(f.z,{size:"lg",onClick:()=>b(!0),className:"flex-1 sm:flex-none",children:"Donate Now"}):s.jsx(f.z,{size:"lg",onClick:()=>a.push("/auth/login"),className:"flex-1 sm:flex-none",children:"Login to Donate"}),s.jsx("div",{className:"flex gap-2",children:D.website&&s.jsx(f.z,{variant:"outline",size:"lg",asChild:!0,children:(0,s.jsxs)("a",{href:D.website,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(c,{className:"h-4 w-4 mr-2"}),"Website"]})})})]})]})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:(0,s.jsxs)(y.mQ,{defaultValue:"about",className:"space-y-6",children:[(0,s.jsxs)(y.dr,{children:[s.jsx(y.SP,{value:"about",children:"About"}),s.jsx(y.SP,{value:"goals",children:"Goals & Projects"}),s.jsx(y.SP,{value:"impact",children:"Impact Reports"}),s.jsx(y.SP,{value:"reviews",children:"Reviews"})]}),s.jsx(y.nU,{value:"about",children:(0,s.jsxs)(v.Zb,{children:[s.jsx(v.Ol,{children:(0,s.jsxs)(v.ll,{children:["About ",D.name]})}),(0,s.jsxs)(v.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-700",children:D.description})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Mission"}),s.jsx("p",{className:"text-gray-700",children:D.mission})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Vision"}),s.jsx("p",{className:"text-gray-700",children:D.vision})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Contact Information"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[s.jsx(m,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:D.email})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:D.phone})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[s.jsx(l.Z,{className:"h-4 w-4 mr-2"}),(0,s.jsxs)("span",{children:[D.location.address,", ",D.location.city,","," ",D.location.state]})]})]})]})]})]})}),s.jsx(y.nU,{value:"goals",children:s.jsx("div",{className:"space-y-6",children:D.goals?.length>0?D.goals.map((e,a)=>(0,s.jsxs)(v.Zb,{children:[s.jsx(v.Ol,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[s.jsx(v.ll,{className:"text-lg",children:e.title}),s.jsx(g.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]})}),(0,s.jsxs)(v.aY,{children:[s.jsx("p",{className:"text-gray-700 mb-4",children:e.description}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),(0,s.jsxs)("span",{children:["$",e.currentAmount.toLocaleString()," / $",e.targetAmount.toLocaleString()]})]}),s.jsx(j.E,{value:e.currentAmount/e.targetAmount*100,className:"h-2"}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(e.currentAmount/e.targetAmount*100).toFixed(1),"% completed"]})]}),e.deadline&&(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mt-4",children:[s.jsx(x.Z,{className:"h-4 w-4 mr-1"}),(0,s.jsxs)("span",{children:["Deadline:"," ",new Date(e.deadline).toLocaleDateString()]})]})]})]},a)):s.jsx(v.Zb,{children:s.jsx(v.aY,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No active goals or projects at the moment."})})})})}),s.jsx(y.nU,{value:"impact",children:s.jsx("div",{className:"space-y-6",children:z?.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-6",children:z.map(e=>s.jsx(J.R,{report:e},e.id))}):s.jsx(v.Zb,{children:s.jsx(v.aY,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No impact reports available yet."})})})})}),s.jsx(y.nU,{value:"reviews",children:s.jsx("div",{className:"space-y-6",children:D.reviews?.length>0?D.reviews.map((e,a)=>s.jsx(v.Zb,{children:(0,s.jsxs)(v.aY,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"flex items-center space-x-1",children:[void 0,void 0,void 0,void 0,void 0].map((a,t)=>s.jsx(o.Z,{className:`h-4 w-4 ${t<e.rating?"text-yellow-500 fill-current":"text-gray-300"}`},t))}),s.jsx("span",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-700",children:e.comment})]})},a)):s.jsx(v.Zb,{children:s.jsx(v.aY,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No reviews yet."})})})})})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(v.Zb,{children:[s.jsx(v.Ol,{children:s.jsx(v.ll,{children:"Quick Stats"})}),(0,s.jsxs)(v.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(h.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Total Raised"})]}),(0,s.jsxs)("span",{className:"font-semibold",children:["$",P.totalReceived?.toLocaleString()||0]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(p.Z,{className:"h-4 w-4 mr-2 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Donors"})]}),s.jsx("span",{className:"font-semibold",children:P.donorCount||0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(o.Z,{className:"h-4 w-4 mr-2 text-yellow-600"}),s.jsx("span",{className:"text-sm",children:"Rating"})]}),(0,s.jsxs)("span",{className:"font-semibold",children:[D.rating.toFixed(1),"/5"]})]})]})]}),C&&(0,s.jsxs)(v.Zb,{children:[s.jsx(v.Ol,{children:s.jsx(v.ll,{children:"Current Goal"})}),(0,s.jsxs)(v.aY,{children:[s.jsx("h3",{className:"font-semibold mb-2",children:C.title}),s.jsx("p",{className:"text-sm text-gray-700 mb-4",children:C.description}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),(0,s.jsxs)("span",{children:["$",C.currentAmount.toLocaleString()," / $",C.targetAmount.toLocaleString()]})]}),s.jsx(j.E,{value:C.currentAmount/C.targetAmount*100,className:"h-2"})]})]})]})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Make a Donation"}),s.jsx(f.z,{variant:"ghost",size:"sm",onClick:()=>b(!1),children:"\xd7"})]}),s.jsx("div",{className:"p-4",children:s.jsx(B,{charity:P,onSuccess:()=>{b(!1),a.push("/receipt")}})})]})})]})}},70961:(e,a,t)=>{"use strict";t.d(a,{R:()=>u});var s=t(97247),r=t(79906),i=t(93587),n=t(57989),l=t(50820),o=t(27757),d=t(88964),c=t(58053),m=t(71331);function u({report:e}){let a=e.totalFundsUtilized/e.totalFundsReceived*100;return(0,s.jsxs)(o.Zb,{className:"h-full flex flex-col hover:shadow-lg transition-shadow",children:[s.jsx(o.Ol,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx(o.ll,{className:"text-lg line-clamp-2",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.charity.name})]}),s.jsx(d.C,{variant:"secondary",children:new Date(e.publishedAt).getFullYear()})]})}),(0,s.jsxs)(o.aY,{className:"flex-1",children:[s.jsx("p",{className:"text-gray-700 text-sm line-clamp-3 mb-4",children:e.description}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx(i.Z,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Funds Received"}),(0,s.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:["$",e.totalFundsReceived.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx(n.Z,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),s.jsx("p",{className:"text-sm font-medium text-green-900",children:"Beneficiaries"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:e.beneficiariesReached.toLocaleString()})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"font-medium",children:"Fund Utilization"}),(0,s.jsxs)("span",{className:"text-gray-600",children:["$",e.totalFundsUtilized.toLocaleString()," / $",e.totalFundsReceived.toLocaleString()]})]}),s.jsx(m.E,{value:a,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[a.toFixed(1),"% utilized"]})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(l.Z,{className:"h-4 w-4 mr-1"}),(0,s.jsxs)("span",{children:[new Date(e.reportPeriod.startDate).toLocaleDateString()," - "," ",new Date(e.reportPeriod.endDate).toLocaleDateString()]})]})]}),s.jsx(o.eW,{children:s.jsx(r.default,{href:`/impact-reports/${e.id}`,className:"w-full",children:s.jsx(c.z,{variant:"outline",className:"w-full",children:"View Full Report"})})})]})}},88964:(e,a,t)=>{"use strict";t.d(a,{C:()=>o});var s=t(97247);t(28964);var r=t(69008),i=t(87972),n=t(25008);let l=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:a,asChild:t=!1,...i}){let o=t?r.g7:"span";return s.jsx(o,{"data-slot":"badge",className:(0,n.cn)(l({variant:a}),e),...i})}},27757:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>n,Zb:()=>i,aY:()=>o,eW:()=>d,ll:()=>l});var s=t(97247);t(28964);var r=t(25008);function i({className:e,...a}){return s.jsx("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function n({className:e,...a}){return s.jsx("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function l({className:e,...a}){return s.jsx("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function o({className:e,...a}){return s.jsx("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}function d({className:e,...a}){return s.jsx("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}},70170:(e,a,t)=>{"use strict";t.d(a,{I:()=>n});var s=t(97247),r=t(28964),i=t(25008);let n=r.forwardRef(({className:e,type:a,...t},r)=>s.jsx("input",{type:a,ref:r,className:(0,i.cn)("flex h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none","placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground","file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","dark:bg-input/30","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 aria-invalid:border-destructive dark:aria-invalid:ring-destructive/40","disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","md:text-sm",e),...t}));n.displayName="Input"},22394:(e,a,t)=>{"use strict";t.d(a,{_:()=>n});var s=t(97247);t(28964);var r=t(40768),i=t(25008);function n({className:e,...a}){return s.jsx(r.f,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}},71331:(e,a,t)=>{"use strict";t.d(a,{E:()=>b});var s=t(97247),r=t(28964),i=t(20732),n=t(22251),l="Progress",[o,d]=(0,i.b)(l),[c,m]=o(l),u=r.forwardRef((e,a)=>{var t,r;let{__scopeProgress:i,value:l=null,max:o,getValueLabel:d=p,...m}=e;(o||0===o)&&!g(o)&&console.error((t=`${o}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=g(o)?o:100;null===l||j(l,u)||console.error((r=`${l}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let x=j(l,u)?l:null,h=v(x)?d(x,u):void 0;return(0,s.jsx)(c,{scope:i,value:x,max:u,children:(0,s.jsx)(n.WV.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":v(x)?x:void 0,"aria-valuetext":h,role:"progressbar","data-state":f(x,u),"data-value":x??void 0,"data-max":u,...m,ref:a})})});u.displayName=l;var x="ProgressIndicator",h=r.forwardRef((e,a)=>{let{__scopeProgress:t,...r}=e,i=m(x,t);return(0,s.jsx)(n.WV.div,{"data-state":f(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:a})});function p(e,a){return`${Math.round(e/a*100)}%`}function f(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function v(e){return"number"==typeof e}function g(e){return v(e)&&!isNaN(e)&&e>0}function j(e,a){return v(e)&&!isNaN(e)&&e<=a&&e>=0}h.displayName=x;var y=t(25008);function b({className:e,value:a,...t}){return s.jsx(u,{"data-slot":"progress",className:(0,y.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:s.jsx(h,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}},21605:(e,a,t)=>{"use strict";t.d(a,{mQ:()=>R,nU:()=>M,dr:()=>S,SP:()=>Z});var s=t(97247),r=t(28964),i=t(70319),n=t(20732),l=t(5706),o=t(67264),d=t(22251),c=t(71310),m=t(28469),u=t(27015),x="Tabs",[h,p]=(0,n.b)(x,[l.Pc]),f=(0,l.Pc)(),[v,g]=h(x),j=r.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:o,activationMode:x="automatic",...h}=e,p=(0,c.gm)(o),[f,g]=(0,m.T)({prop:r,onChange:i,defaultProp:n});return(0,s.jsx)(v,{scope:t,baseId:(0,u.M)(),value:f,onValueChange:g,orientation:l,dir:p,activationMode:x,children:(0,s.jsx)(d.WV.div,{dir:p,"data-orientation":l,...h,ref:a})})});j.displayName=x;var y="TabsList",b=r.forwardRef((e,a)=>{let{__scopeTabs:t,loop:r=!0,...i}=e,n=g(y,t),o=f(t);return(0,s.jsx)(l.fC,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:r,children:(0,s.jsx)(d.WV.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:a})})});b.displayName=y;var N="TabsTrigger",w=r.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,disabled:n=!1,...o}=e,c=g(N,t),m=f(t),u=z(c.baseId,r),x=D(c.baseId,r),h=r===c.value;return(0,s.jsx)(l.ck,{asChild:!0,...m,focusable:!n,active:h,children:(0,s.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...o,ref:a,onMouseDown:(0,i.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(r)}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(r)}),onFocus:(0,i.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||n||!e||c.onValueChange(r)})})})});w.displayName=N;var k="TabsContent",P=r.forwardRef((e,a)=>{let{__scopeTabs:t,value:i,forceMount:n,children:l,...c}=e,m=g(k,t),u=z(m.baseId,i),x=D(m.baseId,i),h=i===m.value,p=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(o.z,{present:n||h,children:({present:t})=>(0,s.jsx)(d.WV.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:x,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&l})})});function z(e,a){return`${e}-trigger-${a}`}function D(e,a){return`${e}-content-${a}`}P.displayName=k;var C=t(25008);function R({className:e,...a}){return s.jsx(j,{"data-slot":"tabs",className:(0,C.cn)("flex flex-col gap-2",e),...a})}function S({className:e,...a}){return s.jsx(b,{"data-slot":"tabs-list",className:(0,C.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...a})}function Z({className:e,...a}){return s.jsx(w,{"data-slot":"tabs-trigger",className:(0,C.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function M({className:e,...a}){return s.jsx(P,{"data-slot":"tabs-content",className:(0,C.cn)("flex-1 outline-none",e),...a})}},77940:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},50820:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},48799:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},93587:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},9527:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},74974:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},62673:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},57989:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(26323).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},34178:(e,a,t)=>{"use strict";var s=t(25289);t.o(s,"useParams")&&t.d(a,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})},71481:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(45347).createProxy)(String.raw`C:\Users\Shivam\Desktop\charity-donation-backend (1)\app\charities\[id]\page.tsx#default`)},45298:(e,a,t)=>{"use strict";t.d(a,{D:()=>r});var s=t(28964);function r(e){let a=s.useRef({value:e,previous:e});return s.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[379,648,185,436],()=>t(29511));module.exports=s})();